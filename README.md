# การบ้านระบบปฏิบัติการ: os_homework_6510503263

ผู้จัดทำ: จิรเมธ วัฒนไพบูลย์ (รหัสนิสิต 6510503263)

คำเตือน/ข้อกำหนดสำคัญ
- โค้ดนี้ทำขึ้นเพื่อการศึกษาเท่านั้น ไม่ใช่โปรแกรมที่นำไปใช้งานจริง
- โปรเจกต์บางส่วนต้องรันบน Linux เท่านั้น (มีการอ่านข้อมูลจาก `/proc`) กรุณาอย่ารันบนระบบอื่น

## งาน 2: สาธิต Copy-on-Write (CoW)
โฟลเดอร์: `2_cow_6510503263`

ไฟล์สำคัญ:
- `cow.py` โปรแกรม Python เดียวไฟล์สำหรับสาธิต CoW โดยวัด VmRSS ของ parent/child หลัง `fork()`
- `BUILD.md` วิธีรัน (Linux เท่านั้น; ใช้ Python 3)

สรุปวิธีใช้งาน (อ่านรายละเอียดใน `BUILD.md`):
1. ใช้ Python 3 บน Linux
2. รัน `python3 cow.py` (ค่าเริ่มต้นทดสอบ 50, 75, 100 MB) หรือกำหนดขนาดเองด้วย `--sizes`

หลัก DO NO HARM
- จำกัดขนาดหน่วยความจำต่อรอบไม่เกิน 256 MB และค่าเริ่มต้นไม่เกิน 100 MB
- ไม่แตะข้อมูลเกินจำเป็น (เขียน 1 ไบต์ต่อหน้า) ลดผลกระทบต่อระบบ
- ใช้งานบนเครื่องที่เหมาะสม ไม่ใช่เครื่อง production

## งาน 3: Deadlock (Avoidance, Detection, Resolution)
โฟลเดอร์: `3_deadlock_6510503263`

ไฟล์สำคัญ:
- `deadlock.py` โปรแกรม Python เดียวไฟล์ จำลองทรัพยากรและโปรเซส (ใช้เธรด) เพื่อสาธิต
	- Avoidance: ใช้ Banker’s Algorithm ป้องกัน deadlock
	- Detection: สร้าง Wait-for Graph ตรวจจับวงจร
	- Resolution: เลือกเหยื่อเพื่อ abort และคืนทรัพยากร
- `BUILD.md` วิธีรันและออปชัน


สรุปวิธีใช้งาน (อ่านรายละเอียดใน `BUILD.md`):
1. ใช้ Python 3 บน Linux
2. ตัวอย่าง:
	 - `python3 deadlock.py --mode avoidance`
	 - `python3 deadlock.py --mode detection`

หลัก DO NO HARM
- จำลองทรัพยากรในหน่วยความจำเท่านั้น ไม่แตะทรัพยากรจริงของระบบ
- จำนวนเธรดและงานมีขนาดเล็ก พร้อม sleep สั้น ๆ เพื่อลดโหลดระบบ